<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Community - Grad2Growth</title>
    <link href="{{ url_for('static', filename='styles.css') }}" rel="stylesheet">
</head>
<body>
    <div class="header flex-container" style="padding:10px; flex-direction: row; width: 100%">
        <div style="display: flex; justify-content: space-between;">
            <h1>Grad2Growth</h1>
            <h2 style="font-size: 32px;">From Graduation to Growth: How to Navigate Post-Grad Life</h2>
        </div>
    </div>
    <div class="nav-bar flex-container">
        <ul>
            <li><a href="{{ url_for('index') }}">Home</a></li>
            <li><a href="{{ url_for('community') }}">Community</a></li>
            <li><a href="{{ url_for('about') }}">About</a></li>
            <li><a href="{{ url_for('profile') }}">Profile</a></li>
        </ul>
    </div>
    <div style="padding-left: 20px;"class="community-container">
        <h1 style="padding: 10px;">Community Posts</h1>
        <form id="post-form" action="/post" method="POST">
            <label style="font-size: 16pt;" for="post-as">Post as:</label>
            <select  style="padding:4px; font-size: 16pt;" id="post-as" name="post_as" required>
                <option value="anonymous">Anonymous</option>
                <option value="{{ username }}">{{ username }}</option>
            </select><br>
            <textarea style="font-size: 14pt; font-family: Verdana, Geneva, Tahoma, sans-serif; height: 100px; width: 500px;" name="content" id="content" placeholder="What would you like to share?" required></textarea><br>

            <button  style="padding: 4px; font-size: 16pt;" type="submit">Post</button>
        </form>
        
        <!-- Username selector dropdown
        <form id="post-form" action="/post" method="POST" class="post-form">
            <label for="username-select">Post as:</label>
            <select id="username-select" name="username">
                <option value="Anonymous">Anonymous</option>
                <option value="{{ username }}">{{ username }}</option>
            </select>

            <textarea name="content" id="content" placeholder="What would you like to share?" required></textarea>
            <button type="submit">Post</button>
        </form> -->

    <!-- <div class="posts">
        {% for post in posts %}
            <div class="post">
                <p><strong>
                    {% if post.visible_username == 'Anonymous' %}
                        Anonymous
                    {% else %}
                        @{{ post.visible_username }}
                    {% endif %}
                :</strong> {{ post.content }}</p>
            </div>
        {% endfor %}
    </div> -->

    <div style="flex-direction: row-reverse; flex-wrap: wrap-reverse; padding: 20px" class="posts flex-container">
        {% for post in posts %}
            <div class="post">
                <p><strong>
                    {% if post.visible_username == 'Anonymous' %}
                        Anonymous
                    {% else %}
                        @{{ post.visible_username }}
                    {% endif %}
                :</strong> {{ post.content }}</p>
    
                <!-- Reply Form -->
                <form action="{{ url_for('reply', post_id=post.id) }}" method="POST" class="reply-form">
                    <input style="padding: 4px; font-size: 14pt;" type="text" name="reply_content" placeholder="Write a reply..." required>
                    <select style="padding: 2px; font-size: 14pt;" name="reply_as">
                        <option value="anonymous">Anonymous</option>
                        <option value="{{ username }}">{{ username }}</option>
                    </select>
                    <button style="padding: 2px; font-size: 14pt;"type="submit">Reply</button>
                </form>
    
                <!-- Replies -->
                <div class="replies">
                    {% for reply in post.replies %}
                        <p class="reply"><strong>
                            {% if reply.visible_username == 'Anonymous' %}
                                Anonymous
                            {% else %}
                                @{{ reply.visible_username }}
                            {% endif %}
                        :</strong> {{ reply.content }}</p>
                    {% endfor %}
                </div>
    
            </div>
        {% endfor %}
    </div>
    
    
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>

<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Community - Grad2Growth</title>
    <link href="{{ url_for('static', filename='styles.css') }}" rel="stylesheet">
</head>
<body>
    <div class="header flex-container">
        <h1 class="title">Grad2Growth</h1>
        <h2 class="subheading">Community</h2>
    </div>
    <div class="nav-bar flex-container">
        <ul>
            <li><a href="{{ url_for('index') }}">Home</a></li>
            <li><a href="{{ url_for('community') }}">Community</a></li>
            <li><a href="{{ url_for('about') }}">About</a></li>
            <li><a href="{{ url_for('profile') }}">Profile</a></li>
        </ul>
    </div>
    <div class="community-container">
        <h1>Community Posts</h1>
        <form id="post-form" action="/post" method="POST">
            <textarea name="content" id="content" placeholder="What would you like to share?" required></textarea>
            <button type="submit">Post</button>
        </form>
        <div class="posts">
            {% for post in posts %}
                <div class="post">{{ post }}</div>
            {% endfor %}
        </div>
    </div>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html> -->